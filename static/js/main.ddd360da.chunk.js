(this["webpackJsonpt3-ti"]=this["webpackJsonpt3-ti"]||[]).push([[0],{319:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},393:function(e,t,a){e.exports=a(721)},398:function(e,t,a){},399:function(e,t,a){},543:function(e,t){},721:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(12),l=a.n(c);a(398),a(319),a(399);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(320),i=a(321),s=a(143),u=a(345),m=a(343),E=a(49),p=a(59),h=a(327),g=a.n(h)()("https://le-18262636.bitzonte.com/",{path:"/stocks"}),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={isOpen:!1},e.toggleCollapse=function(){e.setState({isOpen:!e.state.isOpen})},e.state={label:"Socket on",button:"Close Socket",color_btn:"aqua"},e.handleChange=e.handleChange.bind(Object(s.a)(e)),e}return Object(i.a)(a,[{key:"handleChange",value:function(){g.connected?(alert("Cerrando socket"),this.setState({label:"Socket OFF",button:"Start Socket",color_btn:"peach"}),g.close()):(alert("Abriendo socket"),this.setState({label:"Socket ON",button:"Close Socket",color_btn:"aqua"}),g.open())}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(E.j,{color:"default-color",dark:!0,expand:"md"},r.a.createElement(E.k,null,r.a.createElement("strong",{className:"white-text"},"MarketExchange")),r.a.createElement(E.m,{onClick:this.toggleCollapse}),r.a.createElement(E.d,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},r.a.createElement(E.l,{right:!0},r.a.createElement(E.h,null,r.a.createElement(E.i,{className:"waves-effect waves-light",to:"#!"},r.a.createElement(E.c,{onClick:this.handleChange,gradient:this.state.color_btn},this.state.label)))))))}}]),a}(n.Component),d=(a(546),a(547),a(548),a(549),a(344)),k=a(27),b=a(152),v=a(328),S=a(4),O=a(776),j=a(783),y=a(786),x=a(102),N=a(784),C=a(785),M=a(768),w=a(782),D=a(772),B=a(773),I=a(774),A=a(775),T=a(329),V=a.n(T),L=a(330),F=a.n(L),P=a(331),_=a.n(P),z=a(332),K=a.n(z),G=a(333),J=a.n(G),H=a(158),X=a.n(H),q=(D.a,B.a,V.a,I.a,D.a,B.a,F.a,I.a,D.a,B.a,_.a,I.a,D.a,B.a,K.a,I.a,D.a,B.a,J.a,I.a,A.a,D.a,B.a,X.a,I.a,D.a,B.a,X.a,I.a,D.a,B.a,X.a,I.a,a(40)),U=a(60);function W(e){return r.a.createElement(x.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function Y(e){var t=Object(q.a)(),a=[];e.stock&&e.stocksDict[e.stock]&&e.stocksDict[e.stock].forEach((function(e){var t=new Date(e.time).toLocaleString("es-CL");a.push(function(e,t){return{time:e,amount:t}}(t,e.value))}));var c=Object(n.useState)(0),l=Object(k.a)(c,2),o=(l[0],l[1]);return Object(n.useEffect)((function(){var e=setInterval((function(){o((function(e){return++e}))}),100);return function(){return clearInterval(e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null,e.stock),r.a.createElement(U.d,null,r.a.createElement(U.c,{data:a,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(U.f,{dataKey:"time",stroke:t.palette.text.secondary}),r.a.createElement(U.g,{stroke:t.palette.text.secondary},r.a.createElement(U.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:t.palette.text.primary}},"Value")),r.a.createElement(U.e,null),r.a.createElement(U.b,{type:"monotone",dataKey:"amount",stroke:t.palette.primary.main,dot:!0}))))}var R=a(769);var $=Object(O.a)({depositContext:{flex:1}});function Q(e){var t=[];e.stocksNames.length&&e.stocksNames.forEach((function(e){t.push(e.ticker)}));$();return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null,"SELECT STOCK"),t.map((function(t,a){return r.a.createElement(R.a,{key:a,onClick:function(){return function(t){e.onChangeStock(t)}(t)},color:"primary"},t)})))}var Z=a(777),ee=a(781),te=a(780),ae=a(778),ne=a(779);function re(e,t,a,n,r,c){return{id:e,date:t,name:a,shipTo:n,paymentMethod:r,amount:c}}re(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),re(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),re(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),re(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),re(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79);var ce=Object(O.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function le(e){var t=[];e.stocksNames.length&&e.stocksNames.forEach((function(e){t.push(e.ticker)}));var a=Object(n.useState)(0),c=Object(k.a)(a,2),l=(c[0],c[1]);Object(n.useEffect)((function(){var e=setInterval((function(){l((function(e){return++e}))}),100);return function(){return clearInterval(e)}}),[]);ce();return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null,"Stocks"),r.a.createElement(Z.a,{size:"small"},r.a.createElement(ae.a,null,r.a.createElement(ne.a,null,r.a.createElement(te.a,null,"Stock Ticker"),r.a.createElement(te.a,null,"Volume"),r.a.createElement(te.a,null,"Max Value"),r.a.createElement(te.a,null,"Min Value"),r.a.createElement(te.a,null,"Last Value"),r.a.createElement(te.a,{align:"right"},"Variation"))),r.a.createElement(ee.a,null,t.map((function(t,a){return r.a.createElement(ne.a,{key:a},r.a.createElement(te.a,null,t),r.a.createElement(te.a,null,e.sellDict[t]+e.buyDict[t]),r.a.createElement(te.a,null,e.maxDict[t]),r.a.createElement(te.a,null,e.minDict[t]),r.a.createElement(te.a,null,e.lastDict[t]),r.a.createElement(te.a,{align:"right"},(e.last2Dict[t]/e.lastDict[t]*100-100).toFixed(2),"%"))})))))}function oe(e,t,a,n,r,c){return{id:e,date:t,name:a,shipTo:n,paymentMethod:r,amount:c}}oe(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),oe(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),oe(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),oe(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),oe(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79);Object(O.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function ie(e){var t={},a=[],c={},l={},o={},i={},s={},u=0;e.exchangeNames.length&&e.stocksNames.length&&(e.stocksNames.forEach((function(e){t[e.company_name]=e.ticker})),e.exchangeNames.forEach((function(n){a.push(n.name),c[n.name]=0,l[n.name]=0,i[n.name]=0,s[n.name]=0,o[n.name]=n.listed_companies.length,n.listed_companies.forEach((function(a){c[n.name]+=e.buyDict[t[a]],l[n.name]+=e.sellDict[t[a]],i[n.name]+=e.buyDict[t[a]]+e.sellDict[t[a]]})),u+=i[n.name]})),a.forEach((function(e){s[e]=(i[e]/u*100).toFixed(2)})));var m=Object(n.useState)(0),E=Object(k.a)(m,2),p=(E[0],E[1]);return Object(n.useEffect)((function(){var e=setInterval((function(){p((function(e){return++e}))}),100);return function(){return clearInterval(e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W,null,"Exchange"),r.a.createElement(Z.a,{size:"small"},r.a.createElement(ae.a,null,r.a.createElement(ne.a,null,r.a.createElement(te.a,null,"Market Name"),r.a.createElement(te.a,null,"Buy Volume"),r.a.createElement(te.a,null,"Sell Volume"),r.a.createElement(te.a,null,"Total Volume"),r.a.createElement(te.a,null,"Total stocks"),r.a.createElement(te.a,{align:"right"},"Market Percentage"))),r.a.createElement(ee.a,null,a.map((function(e,t){return r.a.createElement(ne.a,{key:t},r.a.createElement(te.a,null,e),r.a.createElement(te.a,null,c[e]),r.a.createElement(te.a,null,l[e]),r.a.createElement(te.a,null,i[e]),r.a.createElement(te.a,null,o[e]),r.a.createElement(te.a,{align:"right"},s[e],"%"))})))))}function se(e){var t="No Company name",a="No quote Base",n="No Country";return e.stocksNames.forEach((function(r){r.ticker==e.stock&&(t=r.company_name,a=r.quote_base,n=r.country)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{align:"center"},t),r.a.createElement(x.a,{align:"center",variant:"subtitle1"},e.stock),r.a.createElement(x.a,{align:"center",variant:"p"},n),r.a.createElement(x.a,{align:"center",variant:"p"},a))}function ue(){return r.a.createElement(x.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(w.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var me=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(v.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(b.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Ee(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)("AAPL"),o=Object(k.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)([]),m=Object(k.a)(u,2),E=m[0],p=m[1],h=Object(n.useState)({}),f=Object(k.a)(h,2),b=f[0],v=f[1],O=Object(n.useState)({}),x=Object(k.a)(O,2),w=x[0],D=x[1],B={},I={},A=Object(n.useState)({}),T=Object(k.a)(A,2),V=T[0],L=T[1],F=Object(n.useState)({}),P=Object(k.a)(F,2),_=P[0],z=P[1],K=Object(n.useState)({}),G=Object(k.a)(K,2),J=G[0],H=G[1],X=Object(n.useState)({}),q=Object(k.a)(X,2),U=q[0],W=q[1],R=Object(n.useState)({}),$=Object(k.a)(R,2),Z=$[0],ee=$[1],te={},ae={},ne={},re={},ce={};Object(n.useEffect)((function(){g.once("STOCKS",(function(e){c(Object(d.a)(e))})),g.once("EXCHANGES",(function(e){var t=[];Object.keys(e).forEach((function(a){console.log(e[a]),t.push(e[a])})),p(t),console.log(t)}))}),[]),Object(n.useEffect)((function(){g.on("UPDATE",(function(e){te[e.ticker]?(te[e.ticker]<e.value&&(te[e.ticker]=e.value),ae[e.ticker]>e.value&&(ae[e.ticker]=e.value),re[e.ticker]=ne[e.ticker],ce[e.ticker].push(e)):(te[e.ticker]=e.value,ae[e.ticker]=e.value,ce[e.ticker]=[e],re[e.ticker]=1),ne[e.ticker]=e.value,W(re),L(te),H(ne),z(ae),ee(ce)})),g.on("BUY",(function(e){B[e.ticker]?B[e.ticker]+=e.volume:B[e.ticker]=e.volume,v(B)})),g.on("SELL",(function(e){I[e.ticker]?I[e.ticker]+=e.volume:I[e.ticker]=e.volume,D(I)}))}),[]);var oe=me(),Ee=r.a.useState(!0),pe=Object(k.a)(Ee,2),he=(pe[0],pe[1],Object(S.a)(oe.paper,oe.fixedHeight));return r.a.createElement("div",{className:oe.root},r.a.createElement(j.a,null),r.a.createElement("main",{className:oe.content},r.a.createElement("div",{className:oe.appBarSpacer}),r.a.createElement(N.a,{maxWidth:"lg",className:oe.container},r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,md:8,lg:8},r.a.createElement(M.a,{className:he},r.a.createElement(Y,{stock:i,stocksDict:Z}))),r.a.createElement(C.a,{item:!0,xs:12,md:4,lg:2},r.a.createElement(M.a,{className:he},r.a.createElement(se,{stock:i,stocksNames:a}))),r.a.createElement(C.a,{item:!0,xs:12,md:4,lg:2},r.a.createElement(M.a,{className:he},r.a.createElement(Q,{onChangeStock:function(e){s(e)},stocksNames:a}))),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(M.a,{className:oe.paper},r.a.createElement(ie,{stocksNames:a,exchangeNames:E,buyDict:b,sellDict:w}))),r.a.createElement(C.a,{item:!0,xs:12},r.a.createElement(M.a,{className:oe.paper},r.a.createElement(le,{stocksNames:a,maxDict:V,minDict:_,lastDict:J,last2Dict:U,buyDict:b,sellDict:w})))),r.a.createElement(y.a,{pt:4},r.a.createElement(ue,null)))))}g.emit("STOCKS"),g.emit("EXCHANGES"),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null),r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[393,1,2]]]);
//# sourceMappingURL=main.ddd360da.chunk.js.map